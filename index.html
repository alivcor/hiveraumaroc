<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hiver au Maroc</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;1,400&display=swap" rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="style.css" />

  <!-- Meta -->
  <meta name="description" content="An evening of quiet warmth and timeless company to share the holiday season. Haus25 · Dec 21" />
</head>
<body>

 
  <section class="hero">
    <div class="content">
      <h1>Hiver au Maroc</h1>
      <p class="subtitle">An evening of quiet warmth and timeless company<br>to share the holiday season.</p>
      <p class="details">Haus25 · 20 décembre</p>
      <p class="form-intro">Confirmez votre présence et indiquez vos préférences pour la soirée.</p>
      <p class="form-intro en">Please confirm your presence and share your preferences for the evening.</p>

      <iframe name="hidden_iframe" id="hidden_iframe" style="display:none;"></iframe>
      <form class="rsvp-form" id="rsvp-form" action="https://script.google.com/macros/s/AKfycbzb6PRVXfPkrV-avhtJxA1kpfMYtS7F9uOElmfAGsIdzg3c5RVcmoMyLm1ZQEimNXos/exec" method="POST" target="hidden_iframe">
        <input type="text" id="name" name="name" placeholder="Nom" required>
        <input type="email" id="email" name="email" placeholder="Email" required>
        <input type="text" id="diet" name="diet" placeholder="Restrictions alimentaires / allergies">
        <select id="alcohol" name="alcohol">
          <option value="Vin">Vin</option>
          <option value="Thé à la menthe">Thé à la menthe</option>
          <option value="Sans alcool">Sans alcool</option>
        </select>
        <button type="submit">Confirmer ma présence</button>
        <p class="form-status" aria-live="polite"></p>
      </form>
      <p class="dress-code">Code vestimentaire : maron, exclusivement. Merci de ne porter aucune autre couleur.</p>
      <p class="dress-code en">We kindly ask guests to wear maroon only, for a perfectly harmonious evening. Your adherence will set the evening beautifully.</p>
    </div>
  </section>

  
  <section class="esprit">
  <h2>L’Esprit de la Soirée</h2>
  <p>
    A celebration of light and stillness, inspired by Marrakech courtyards, 
    candlelit salons, and the quiet elegance of winter evenings in the desert. 
    Every detail is imagined to evoke warmth, intimacy, and the timeless rhythm of Moroccan nights.
  </p>

  <div class="carousel-wrapper">
    <div class="carousel">
      <img src="HAM1.jpg" alt="Lantern light over mosaic floor">
      <img src="HAM5.jpg" alt="Evening reflections">
      <img src="HAM2.jpg" alt="Moroccan tiles and brass">
      <img src="HAM3.jpg" alt="Warm candlelit table setting">
      <img src="HAM4.jpg" alt="Soft fabrics and evening hues">
    </div>
  </div>
</section>



  <section class="invitation">
    <p>
      A winter evening touched with Moroccan charm - candlelight, spice, and the warmth of friends. Expect quiet jazz, saffron and rose drifting through the air, and a palette of deep maroon in homage to Saint Laurent’s Marrakech nights. Your presence completes the table.
    </p>
  </section>


  <footer>
    <p>Hiver au Maroc · Une soirée privée</p>
    <p>© 2025</p>
  </footer>
<script>
  // Fade-in on scroll
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          observer.unobserve(entry.target);
        }
      });
    },
    { threshold: 0.2 }
  );

  // Select elements that should fade in
  document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));

  // Apps Script sheet submission (no page reload)
  const rsvpForm = document.getElementById('rsvp-form');
  const statusEl = document.querySelector('.form-status');
  const hiddenIframe = document.getElementById('hidden_iframe');
  let formSubmitted = false;

  if (rsvpForm) {
    rsvpForm.addEventListener('submit', (e) => {
      e.preventDefault();

      statusEl.textContent = 'Envoi en cours...';
      formSubmitted = true;
      rsvpForm.submit();
    });
  }

  if (hiddenIframe) {
    hiddenIframe.addEventListener('load', () => {
      if (formSubmitted) {
        statusEl.textContent = 'Votre réponse a bien été enregistrée. Hâte de partager cette soirée avec vous.';
        rsvpForm.reset();
        formSubmitted = false;
      }
    });
  }
</script>
</body>
</html>
